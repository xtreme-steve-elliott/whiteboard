<div class="panel">
  <div class="panel-top-container">
      <div class="panel-close"></div>
      <div class="panel-title"><%= item.kind %> - <%= controller.action_name.capitalize %></div>
  </div>
  <%= form_for(item, :method => :delete, html: {id: 'delete-form'}) do |delete_form| %>
  <% end %>
  <%= form_for(item, html: {class: 'panel-form'}) do |f| %>
    <% # TODO: render errors %>
    <% # TODO: add kind switcher %>
    <% # TODO: add public switcher %>
    <% # TODO: add various messaging %>
    <div class="panel-row">
      <div class="panel-column">
        <%= f.label(:standup_id) %>
        <%= f.collection_select(:standup_id, Standup.all, :id, :title) %>
      </div>
    </div>
    <div class="panel-row">
      <div class="panel-column">
        <%= f.label(:title, "#{item.kind} Title") %>
        <%= f.text_field(:title, placeholder: "#{item.kind} Title") %>
      </div>
    </div>
    <div class="panel-row">
      <div class="panel-column">
        <%= f.label(:author) %>
        <%= f.text_field(:author, placeholder: 'Author') %>
      </div>
      <div class="panel-column date">
        <%= f.label(:date) %>
        <%= f.text_field(:date, value: item.date || Date.today) %>
        <!--<input type="text" data-provide="datepicker" data-date-format="yyyy-mm-dd" />-->
      </div>
    </div>
    <div class="panel-row">
      <div class="panel-column">
        <%= f.label(:description) %>
        <%= f.text_area :description, placeholder: markdown_placeholder, rows: 5 %>
      </div>
    </div>
    <div class="panel-row button-row">
    <% if item.persisted? %>
      <div class="panel-column">
        <%= f.submit 'Delete', form: 'delete-form', data: {confirm: 'Are you sure you want to delete this item?'} %>
      </div>
    <% end %>
      <div class="panel-column">
        <%= f.submit 'Update' %>
      </div>
    </div>
  <% end %>
</div>
<script>
  $('.panel-close').on('click', function(e) {
      e.preventDefault();
      $(this).closest('.panel-holder').hide();
  });
  $(".panel-form #item_date").datepicker({
      format: 'yyyy-mm-dd',
      container: '.panel-column.date'
  });
</script>